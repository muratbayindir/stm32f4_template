ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbh_diskio_dma.c"
  14              		.text
  15              		.section	.text.USBH_initialize,"ax",%progbits
  16              		.align	1
  17              		.p2align 2,,3
  18              		.global	USBH_initialize
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USBH_initialize:
  26              		@ args = 0, pretend = 0, frame = 0
  27              		@ frame_needed = 0, uses_anonymous_args = 0
  28              		@ link register save eliminated.
  29 0000 0020     		movs	r0, #0
  30 0002 7047     		bx	lr
  32              		.section	.text.USBH_status,"ax",%progbits
  33              		.align	1
  34              		.p2align 2,,3
  35              		.global	USBH_status
  36              		.syntax unified
  37              		.thumb
  38              		.thumb_func
  39              		.fpu fpv4-sp-d16
  41              	USBH_status:
  42              		@ args = 0, pretend = 0, frame = 0
  43              		@ frame_needed = 0, uses_anonymous_args = 0
  44 0000 0146     		mov	r1, r0
  45 0002 08B5     		push	{r3, lr}
  46 0004 0348     		ldr	r0, .L5
  47 0006 FFF7FEFF 		bl	USBH_MSC_UnitIsReady
  48 000a B0FA80F0 		clz	r0, r0
  49 000e 4009     		lsrs	r0, r0, #5
  50 0010 08BD     		pop	{r3, pc}
  51              	.L6:
  52 0012 00BF     		.align	2
  53              	.L5:
  54 0014 00000000 		.word	hUSBHost
  56              		.section	.text.USBH_read,"ax",%progbits
  57              		.align	1
  58              		.p2align 2,,3
  59              		.global	USBH_read
  60              		.syntax unified
  61              		.thumb
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 2


  62              		.thumb_func
  63              		.fpu fpv4-sp-d16
  65              	USBH_read:
  66              		@ args = 0, pretend = 0, frame = 56
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
  69 0004 9146     		mov	r9, r2
  70 0006 8A07     		lsls	r2, r1, #30
  71 0008 90B0     		sub	sp, sp, #64
  72 000a 0746     		mov	r7, r0
  73 000c 3CD0     		beq	.L8
  74 000e 264A     		ldr	r2, .L29
  75 0010 D2F8C002 		ldr	r0, [r2, #704]
  76 0014 0069     		ldr	r0, [r0, #16]
  77 0016 0028     		cmp	r0, #0
  78 0018 36D0     		beq	.L8
  79 001a 002B     		cmp	r3, #0
  80 001c 3DD0     		beq	.L13
  81 001e 234D     		ldr	r5, .L29+4
  82 0020 234E     		ldr	r6, .L29+8
  83 0022 1D44     		add	r5, r5, r3
  84 0024 09F1FF34 		add	r4, r9, #-1
  85 0028 9046     		mov	r8, r2
  86 002a 01EB4525 		add	r5, r1, r5, lsl #9
  87 002e 1C44     		add	r4, r4, r3
  88 0030 4FF0010A 		mov	r10, #1
  89 0034 09E0     		b	.L12
  90              	.L11:
  91 0036 2846     		mov	r0, r5
  92 0038 FFF7FEFF 		bl	memcpy
  93 003c A145     		cmp	r9, r4
  94 003e A5F50075 		sub	r5, r5, #512
  95 0042 04F1FF33 		add	r3, r4, #-1
  96 0046 28D0     		beq	.L13
  97 0048 1C46     		mov	r4, r3
  98              	.L12:
  99 004a 2246     		mov	r2, r4
 100 004c 3946     		mov	r1, r7
 101 004e CDF800A0 		str	r10, [sp]
 102 0052 3346     		mov	r3, r6
 103 0054 4046     		mov	r0, r8
 104 0056 FFF7FEFF 		bl	USBH_MSC_Read
 105 005a 4FF40072 		mov	r2, #512
 106 005e 3146     		mov	r1, r6
 107 0060 0028     		cmp	r0, #0
 108 0062 E8D0     		beq	.L11
 109              	.L14:
 110 0064 3946     		mov	r1, r7
 111 0066 03AA     		add	r2, sp, #12
 112 0068 0F48     		ldr	r0, .L29
 113 006a FFF7FEFF 		bl	USBH_MSC_GetLUNInfo
 114 006e 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 115 0072 282B     		cmp	r3, #40
 116 0074 15D0     		beq	.L16
 117 0076 3A2B     		cmp	r3, #58
 118 0078 13D0     		beq	.L16
 119 007a 042B     		cmp	r3, #4
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 3


 120 007c 0CBF     		ite	eq
 121 007e 0320     		moveq	r0, #3
 122 0080 0120     		movne	r0, #1
 123 0082 10B0     		add	sp, sp, #64
 124              		@ sp needed
 125 0084 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 126              	.L8:
 127 0088 0093     		str	r3, [sp]
 128 008a 4A46     		mov	r2, r9
 129 008c 0B46     		mov	r3, r1
 130 008e 0648     		ldr	r0, .L29
 131 0090 3946     		mov	r1, r7
 132 0092 FFF7FEFF 		bl	USBH_MSC_Read
 133 0096 0028     		cmp	r0, #0
 134 0098 E4D1     		bne	.L14
 135              	.L13:
 136 009a 0020     		movs	r0, #0
 137              	.L10:
 138 009c 10B0     		add	sp, sp, #64
 139              		@ sp needed
 140 009e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 141              	.L16:
 142 00a2 0320     		movs	r0, #3
 143 00a4 FAE7     		b	.L10
 144              	.L30:
 145 00a6 00BF     		.align	2
 146              	.L29:
 147 00a8 00000000 		.word	hUSBHost
 148 00ac FFFF7F00 		.word	8388607
 149 00b0 00000000 		.word	.LANCHOR0
 151              		.section	.text.USBH_ioctl,"ax",%progbits
 152              		.align	1
 153              		.p2align 2,,3
 154              		.global	USBH_ioctl
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	USBH_ioctl:
 161              		@ args = 0, pretend = 0, frame = 56
 162              		@ frame_needed = 0, uses_anonymous_args = 0
 163 0000 10B5     		push	{r4, lr}
 164 0002 1446     		mov	r4, r2
 165 0004 8EB0     		sub	sp, sp, #56
 166 0006 0329     		cmp	r1, #3
 167 0008 1DD8     		bhi	.L32
 168 000a DFE801F0 		tbb	[pc, r1]
 169              	.L34:
 170 000e 0D       		.byte	(.L41-.L34)/2
 171 000f 10       		.byte	(.L36-.L34)/2
 172 0010 02       		.byte	(.L35-.L34)/2
 173 0011 02       		.byte	(.L35-.L34)/2
 174              		.p2align 1
 175              	.L35:
 176 0012 0146     		mov	r1, r0
 177 0014 01AA     		add	r2, sp, #4
 178 0016 0D48     		ldr	r0, .L45
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 4


 179 0018 FFF7FEFF 		bl	USBH_MSC_GetLUNInfo
 180 001c 80B9     		cbnz	r0, .L40
 181 001e BDF80C30 		ldrh	r3, [sp, #12]
 182 0022 2360     		str	r3, [r4]
 183 0024 0EB0     		add	sp, sp, #56
 184              		@ sp needed
 185 0026 10BD     		pop	{r4, pc}
 186              	.L41:
 187 0028 0020     		movs	r0, #0
 188              	.L37:
 189 002a 0EB0     		add	sp, sp, #56
 190              		@ sp needed
 191 002c 10BD     		pop	{r4, pc}
 192              	.L36:
 193 002e 0146     		mov	r1, r0
 194 0030 01AA     		add	r2, sp, #4
 195 0032 0648     		ldr	r0, .L45
 196 0034 FFF7FEFF 		bl	USBH_MSC_GetLUNInfo
 197 0038 10B9     		cbnz	r0, .L40
 198 003a 029B     		ldr	r3, [sp, #8]
 199 003c 2360     		str	r3, [r4]
 200 003e F4E7     		b	.L37
 201              	.L40:
 202 0040 0120     		movs	r0, #1
 203 0042 0EB0     		add	sp, sp, #56
 204              		@ sp needed
 205 0044 10BD     		pop	{r4, pc}
 206              	.L32:
 207 0046 0420     		movs	r0, #4
 208 0048 EFE7     		b	.L37
 209              	.L46:
 210 004a 00BF     		.align	2
 211              	.L45:
 212 004c 00000000 		.word	hUSBHost
 214              		.section	.text.USBH_write,"ax",%progbits
 215              		.align	1
 216              		.p2align 2,,3
 217              		.global	USBH_write
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	USBH_write:
 224              		@ args = 0, pretend = 0, frame = 56
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 227 0004 8146     		mov	r9, r0
 228 0006 8807     		lsls	r0, r1, #30
 229 0008 91B0     		sub	sp, sp, #68
 230 000a 2AD0     		beq	.L48
 231 000c 2948     		ldr	r0, .L68
 232 000e D0F8C042 		ldr	r4, [r0, #704]
 233 0012 2469     		ldr	r4, [r4, #16]
 234 0014 2CB3     		cbz	r4, .L48
 235 0016 284D     		ldr	r5, .L68+4
 236 0018 284E     		ldr	r6, .L68+8
 237 001a 1D44     		add	r5, r5, r3
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 5


 238 001c 571E     		subs	r7, r2, #1
 239 001e FC18     		adds	r4, r7, r3
 240 0020 8046     		mov	r8, r0
 241 0022 01EB4525 		add	r5, r1, r5, lsl #9
 242 0026 0023     		movs	r3, #0
 243 0028 0EE0     		b	.L50
 244              	.L53:
 245 002a FFF7FEFF 		bl	memcpy
 246 002e 0123     		movs	r3, #1
 247 0030 0093     		str	r3, [sp]
 248 0032 2246     		mov	r2, r4
 249 0034 3346     		mov	r3, r6
 250 0036 4946     		mov	r1, r9
 251 0038 4046     		mov	r0, r8
 252 003a FFF7FEFF 		bl	USBH_MSC_Write
 253 003e 0228     		cmp	r0, #2
 254 0040 0346     		mov	r3, r0
 255 0042 04F1FF34 		add	r4, r4, #-1
 256 0046 15D0     		beq	.L56
 257              	.L50:
 258 0048 A742     		cmp	r7, r4
 259 004a 2946     		mov	r1, r5
 260 004c 4FF40072 		mov	r2, #512
 261 0050 3046     		mov	r0, r6
 262 0052 A5F50075 		sub	r5, r5, #512
 263 0056 E8D1     		bne	.L53
 264 0058 63B9     		cbnz	r3, .L56
 265              	.L61:
 266 005a 1846     		mov	r0, r3
 267              	.L55:
 268 005c 11B0     		add	sp, sp, #68
 269              		@ sp needed
 270 005e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 271              	.L48:
 272 0062 0093     		str	r3, [sp]
 273 0064 1348     		ldr	r0, .L68
 274 0066 0B46     		mov	r3, r1
 275 0068 4946     		mov	r1, r9
 276 006a FFF7FEFF 		bl	USBH_MSC_Write
 277 006e 0346     		mov	r3, r0
 278 0070 002B     		cmp	r3, #0
 279 0072 F2D0     		beq	.L61
 280              	.L56:
 281 0074 4946     		mov	r1, r9
 282 0076 03AA     		add	r2, sp, #12
 283 0078 0E48     		ldr	r0, .L68
 284 007a FFF7FEFF 		bl	USBH_MSC_GetLUNInfo
 285 007e 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 286 0082 272B     		cmp	r3, #39
 287 0084 10D0     		beq	.L57
 288 0086 08D9     		bls	.L67
 289 0088 282B     		cmp	r3, #40
 290 008a 11D0     		beq	.L59
 291 008c 3A2B     		cmp	r3, #58
 292 008e 0CBF     		ite	eq
 293 0090 0320     		moveq	r0, #3
 294 0092 0120     		movne	r0, #1
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 6


 295 0094 11B0     		add	sp, sp, #68
 296              		@ sp needed
 297 0096 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 298              	.L67:
 299 009a 042B     		cmp	r3, #4
 300 009c 0CBF     		ite	eq
 301 009e 0320     		moveq	r0, #3
 302 00a0 0120     		movne	r0, #1
 303 00a2 11B0     		add	sp, sp, #68
 304              		@ sp needed
 305 00a4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 306              	.L57:
 307 00a8 0220     		movs	r0, #2
 308 00aa 11B0     		add	sp, sp, #68
 309              		@ sp needed
 310 00ac BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 311              	.L59:
 312 00b0 0320     		movs	r0, #3
 313 00b2 D3E7     		b	.L55
 314              	.L69:
 315              		.align	2
 316              	.L68:
 317 00b4 00000000 		.word	hUSBHost
 318 00b8 FFFF7F00 		.word	8388607
 319 00bc 00000000 		.word	.LANCHOR0
 321              		.global	USBH_Driver
 322              		.section	.bss.scratch,"aw",%nobits
 323              		.align	2
 324              		.set	.LANCHOR0,. + 0
 327              	scratch:
 328 0000 00000000 		.space	512
 328      00000000 
 328      00000000 
 328      00000000 
 328      00000000 
 329              		.section	.rodata.USBH_Driver,"a"
 330              		.align	2
 333              	USBH_Driver:
 334 0000 00000000 		.word	USBH_initialize
 335 0004 00000000 		.word	USBH_status
 336 0008 00000000 		.word	USBH_read
 337 000c 00000000 		.word	USBH_write
 338 0010 00000000 		.word	USBH_ioctl
 339              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 8-2018-q4-major) 8.2.1 20181213 (release) [gcc
ARM GAS  D:\Programs\cygwin64\tmp\ccrNpj6g.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 usbh_diskio_dma.c
D:\Programs\cygwin64\tmp\ccrNpj6g.s:16     .text.USBH_initialize:00000000 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:25     .text.USBH_initialize:00000000 USBH_initialize
D:\Programs\cygwin64\tmp\ccrNpj6g.s:33     .text.USBH_status:00000000 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:41     .text.USBH_status:00000000 USBH_status
D:\Programs\cygwin64\tmp\ccrNpj6g.s:54     .text.USBH_status:00000014 $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:57     .text.USBH_read:00000000 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:65     .text.USBH_read:00000000 USBH_read
D:\Programs\cygwin64\tmp\ccrNpj6g.s:147    .text.USBH_read:000000a8 $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:152    .text.USBH_ioctl:00000000 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:160    .text.USBH_ioctl:00000000 USBH_ioctl
D:\Programs\cygwin64\tmp\ccrNpj6g.s:170    .text.USBH_ioctl:0000000e $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:174    .text.USBH_ioctl:00000012 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:212    .text.USBH_ioctl:0000004c $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:215    .text.USBH_write:00000000 $t
D:\Programs\cygwin64\tmp\ccrNpj6g.s:223    .text.USBH_write:00000000 USBH_write
D:\Programs\cygwin64\tmp\ccrNpj6g.s:317    .text.USBH_write:000000b4 $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:333    .rodata.USBH_Driver:00000000 USBH_Driver
D:\Programs\cygwin64\tmp\ccrNpj6g.s:323    .bss.scratch:00000000 $d
D:\Programs\cygwin64\tmp\ccrNpj6g.s:327    .bss.scratch:00000000 scratch
D:\Programs\cygwin64\tmp\ccrNpj6g.s:330    .rodata.USBH_Driver:00000000 $d

UNDEFINED SYMBOLS
USBH_MSC_UnitIsReady
hUSBHost
memcpy
USBH_MSC_Read
USBH_MSC_GetLUNInfo
USBH_MSC_Write
